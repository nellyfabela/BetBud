<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BetBud</title>
    <link rel="stylesheet" href="/css/jass.css">
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet" />

    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link href="/dist/output.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.lordicon.com/bhenfmcm.js"></script>
</head>

<body>
    {{#if logged_in}}
    <h1 style="color: white">YOOOO</h1>
    {{else}}
    <h1 style="color: white">YOOO NOT </h1>
    {{/if}}
    <div class=" bg-neutral-950 h-screen">
        <header class="static">
            <h1>
                <a href="/" class="justify-self-center">BetBud</a>
            </h1>

            <!-- Navbar start -->
            <nav id="navbar"
                class="sticky left-0 top-0 z-40 flex w-full flex-row justify-end bg-neutral-950 px-4 sm:justify-between">

                <button id="btnSidebarToggler" type="button" class="py-4 text-2xl text-white hover:text-gray-200">
                    <svg id="navClosed" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke-width="1.5" stroke="currentColor" class="h-8 w-8">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                    </svg>
                    <svg id="navOpen" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke-width="1.5" stroke="currentColor" class="hidden h-8 w-8">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </nav>
            <!-- Navbar end -->

            <!-- Sidebar start-->
            <section id="containerSidebar" style="color:white"
                class="z-40 transform transition-transform duration-500 ease-in-out bg-neutral-950 shadow-2xl shadow-yellow-500/50 w-2/3 sm:w-1/3 fixed left-0 top-0 h-full overflow-auto place-items-center flex-col hidden">
                <div class="navbar-menu relative z-40 min-h-screen">
                    <nav id="sidebar"
                        class="flex left-0 w-fit min-h-full flex-col overflow-y-auto justify-items-center align-middle bg-neutral-950 pt-6 pb-8 lg:h-full">

                        <!-- Conditionally render login or logout links -->
                        
                        <!-- one category / navigation group -->
                        <div class="flex-col px-4 pb-6 justify-items-center">
                            <h3 class="mb-2 text-xs font-medium uppercase text-gray-500">
                                BetBud
                            </h3>
                            <button id="btnSidebarHider" type="button"
                                class="py-4 text-2xl text-white hover:text-gray-200">
                                <lord-icon src="https://cdn.lordicon.com/zpcieyfp.json" trigger="hover"
                                    colors="primary:#ffffff,secondary:#08a88a" stroke="100"
                                    style="width:50px;height:50px" id="icoBtnSidebar">
                                </lord-icon>
                            </button>

                            <div id="sidebar-container"
                                class="mb-8 text-lg sm:text-sm font-medium flex-col justify-items-center space-y-5">
                                <div class="flex-row items-center">
                                    <lord-icon src="https://cdn.lordicon.com/osuxyevn.json" trigger="morph"
                                        colors="primary:#ffffff" state="morph-2" style="width:50px;height:50px"
                                        id="icoHome">
                                    </lord-icon>
                                    <a class="active flex rounded py-3 pl-4 pr-4 text-gray-50 hover:bg-gray-600"
                                        href="/">
                                        <span class="select-none">Home</span>
                                    </a>
                                </div>
                                <div class="flex-row items-center">
                                    <lord-icon src="https://cdn.lordicon.com/bhfjfgqz.json" trigger="hover"
                                        colors="primary:#ffffff" style="width:50px;height:50px" id="icoProfile">
                                    </lord-icon>
                                    <a class="flex rounded py-3 pl-4 pr-4 text-gray-50 hover:bg-gray-600"
                                        href="/profile">
                                        <span class="select-none">My profile</span>
                                    </a>
                                </div>
                                <div class="flex-row items-center">
                                    <lord-icon src="https://cdn.lordicon.com/gbxgskdd.json" trigger="hover"
                                        colors="primary:#ffffff" state="hover" style="width:50px;height:50px"
                                        id="icoBuds">
                                    </lord-icon>
                                    <a class="flex  rounded py-3 pl-4 pr-4 text-gray-50 hover:bg-gray-600" href="/buds">
                                        <span class="select-none">My buds</span>
                                    </a>
                                </div>
                                <div class="flex-row items-center">
                                    <lord-icon src="https://cdn.lordicon.com/itnlluqc.json" trigger="hover"
                                        colors="primary:#ffffff" state="hover" style="width:50px;height:50px"
                                        id="icoBets">
                                    </lord-icon>
                                    <a class="flex rounded py-3 pl-4 pr-4 text-gray-50 hover:bg-gray-600" href="/bets">
                                        <span class="select-none">My bets</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <button class="no-button text-white items-center flex" id="logout">
                            <lord-icon src="https://cdn.lordicon.com/abxklwuk.json" trigger="hover"
                                colors="primary:#ffffff" state="hover" style="width:50px;height:50px" class="ml-1">
                            </lord-icon>
                            <a class="self-center ml-4" id="logout">Logout</a>
                        </button>
                        
                        {{!-- Change the link for the updated URL for LOGIN --}}
                        <a href="/login">Login</a>
                        
                    </nav>
                </div>
                <div class="mx-auto lg:ml-80"></div>
            </section>
            <!-- Sidebar end -->
        </header>

        <main class="container container-fluid mt-5 h-screen bg-neutral-950">
            <!-- Render the sub layout -->
            {{{body}}}
        </main>

        <footer>

        </footer>
    </div>

    <script>
        var toggleButton = document.getElementById('btnSidebarToggler');
        const sidebar = document.getElementById('containerSidebar');

        toggleButton.addEventListener('click', function () {
            if (sidebar.classList.contains('hidden')) {
                sidebar.classList.remove('translate-x-full');
                sidebar.classList.remove('hidden');
            } else {
                sidebar.classList.add('hidden');
            }
        });

        var hideButton = document.getElementById('btnSidebarHider');
        hideButton?.addEventListener('click', function () {
            sidebar.classList.add('hidden');
        });
    </script>

    <!-- Render script for logged in users only -->
   
    <script src="./js/logout.js"></script>
   
</body>

</html>